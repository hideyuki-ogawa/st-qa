# Agents.md â€” ã€ŒAI Ready ãƒã‚§ãƒƒã‚¯ï¼ˆStreamlit Cloud + Google Sheetsï¼‰ã€ä»•æ§˜æ›¸

## 0. ãƒŸãƒƒã‚·ãƒ§ãƒ³ / ã‚³ãƒ³ã‚»ãƒ—ãƒˆ

* **ç›®çš„**ï¼šãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ¬ã‚¿ãƒ¼2å·ï¼ˆ3ãƒšãƒ¼ã‚¸QRï¼‰ã‹ã‚‰é·ç§»ã—ã€**ä¼šç¤¾å…¨ä½“ã®é›°å›²æ°—**ã¨ã—ã¦å›ç­”ã™ã‚‹10æœ¬ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã§ã€ŒAI ReadyæŒ‡æ•°ï¼ˆ0â€“100ï¼‰ã€ã‚’ç®—å‡ºã€‚Q4ï¼ˆå°å…¥åº¦ï¼‰ã¨çµ„ã¿åˆã‚ã›ã¦**æƒ³å®šä½œæ¥­æ™‚é–“å‰Šæ¸›ç‡**ã‚’å³æ™‚æç¤ºã—ã€**å›ç­”ãƒ‡ãƒ¼ã‚¿ã‚’Googleã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«è¨˜éŒ²**ã™ã‚‹ã€‚
* **ã‚´ãƒ¼ãƒ«**ï¼š

  1. 3åˆ†ã§è‡ªå·±ç†è§£ï¼ˆæŒ‡æ•°ãƒ»ãƒ•ã‚§ãƒ¼ã‚ºï¼‰
  2. 1ã‚¯ãƒªãƒƒã‚¯ã§åŠ¹æœæ¨å®šï¼ˆ%ï¼‰
  3. ãƒ‡ãƒ¼ã‚¿è“„ç©ã«ã‚ˆã‚‹ã€Œåœ°åŸŸAIå°å…¥ãƒãƒƒãƒ—ã€åŸºç›¤ã¥ãã‚Š
* **éã‚´ãƒ¼ãƒ«**ï¼šå€‹ç¤¾ã‚³ãƒ³ã‚µãƒ«æ©Ÿèƒ½ã€PDFè‡ªå‹•ç”Ÿæˆã€ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã€ãƒ­ã‚°ã‚¤ãƒ³ã€‚MVPã§ã¯ã‚„ã‚‰ãªã„ã€‚

---

## 1. æˆæœç‰© / KPI

* **æˆæœç‰©**ï¼šStreamlit ã‚¢ãƒ—ãƒªï¼ˆ1ãƒªãƒã‚¸ãƒˆãƒª / `app.py`ï¼‰ï¼‹ Google Sheets æ¥ç¶šã€‚
* **KPIï¼ˆMVPï¼‰**

  * å›ç­”å®Œäº†ç‡ â‰¥ 70%
  * æ‰€è¦æ™‚é–“ä¸­å¤®å€¤ â‰¤ 3åˆ†
  * ãƒ‡ãƒ¼ã‚¿æ¬ æç‡ï¼ˆå„è¨­å•ï¼‰ â‰¤ 5%
  * ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆæ›¸ãè¾¼ã¿å¤±æ•—ç‡ â‰¤ 1%

---

## 2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼

* äº‹æ¥­è€…Aï¼šQRã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹â†’**ä¸€å•ãšã¤**ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã§å›ç­”â†’æŒ‡æ•°ã¨åŠ¹æœ%ã‚’å³ç¢ºèªâ†’é€ä¿¡â†’å®Œäº†ã€‚
* é•·ç›®ãƒãƒ¼ãƒ ï¼šã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã§é›†è¨ˆâ†’æ¥­ç¨®åˆ¥å‚¾å‘ã‚’ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ¬ã‚¿ãƒ¼ãƒ»è¬›åº§ã«åæ˜ ã€‚

---

## 3. UXè¦ä»¶ï¼ˆé‡è¦ï¼‰

* **ä¸€å•ãšã¤å‡ºã‚‹UI**ï¼ˆã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰å‹ï¼‰ï¼š

  * é€²è¡Œï¼š`æ¬¡ã¸ / æˆ»ã‚‹`ã€ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ï¼ˆ10/10ï¼‰ã€‚
  * ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼š0â€“100ï¼ˆ0=ã»ã¼ç„¡/æœªã€100=ååˆ†ï¼‰ã€‚
  * è³ªå•æ–‡ã¯**ã€Œã‚ãªãŸã®ä¼šç¤¾ã§ã¯â€¦ã€**ã§çµ±ä¸€ï¼ˆä¼šç¤¾å…¨ä½“ã®é›°å›²æ°—ï¼‰ã€‚
  * Q4ã®å›ç­”ã‚’**å°å…¥åº¦**ã¨ã—ã¦çµæœã«åæ˜ ã€‚
* **çµæœç”»é¢**ï¼ˆå³æ™‚ï¼‰ï¼š

  * AI ReadyæŒ‡æ•°ï¼ˆ0â€“100ï¼‰ï¼‹åŒºåˆ†ï¼ˆğŸŒ±0â€“39 / ğŸ”§40â€“69 / ğŸš€70â€“100ï¼‰
  * å°å…¥åº¦ï¼ˆQ4%ï¼‰
  * **æƒ³å®šä½œæ¥­æ™‚é–“å‰Šæ¸›ç‡**ï¼ˆå¼ã¯Â§5ï¼‰
  * 9ãƒãƒˆãƒªã‚¯ã‚¹ã«åŸºã¥ã**çŸ­æ–‡ææ¡ˆ**ï¼ˆ1ã€œ2è¡Œï¼‰
  * ã€Œå›ç­”ã‚’é€ä¿¡ã€ãƒœã‚¿ãƒ³ï¼ˆé€ä¿¡å‰ã«ç·¨é›†å¯èƒ½ï¼‰
* **å®Œäº†ç”»é¢**ï¼š

  * ã€Œã”å”åŠ›ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€ï¼‹ãƒ‡ãƒ¼ã‚¿æ´»ç”¨ãƒãƒªã‚·ãƒ¼ã®çŸ­æ–‡
  * ï¼ˆä»»æ„ï¼‰é•·ç›®ã‚µã‚¤ãƒˆ/ã‚»ãƒŸãƒŠãƒ¼ã¸ã®é™çš„ãƒªãƒ³ã‚¯

---

## 4. è³ªå•ä»•æ§˜ï¼ˆ10ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼, å…¨ã¦é‡ã¿=1ï¼‰

> ã™ã¹ã¦ 0ã€œ100ï¼ˆ0=å…¨ã/ã»ã¼ç„¡ã„ã€100=ååˆ†/å¸¸ã«ï¼‰
> â€»ã€Œã‚ãªãŸã®ä¼šç¤¾**ã§ã¯**ï¼ˆä¼šç¤¾å…¨ä½“ã®é›°å›²æ°—ã¨ã—ã¦ï¼‰ã€ã«çµ±ä¸€

1. ğŸ“„ **æ¥­å‹™æ–‡æ›¸ã®é›»å­åŒ–å‰²åˆ**
2. ğŸ’» **ITç’°å¢ƒï¼ˆç¤¾å†…ã®æƒ…å ±å…±æœ‰ãƒ»æ¤œç´¢ãƒ»ã‚¢ã‚¯ã‚»ã‚¹ï¼‰æ•´å‚™åº¦**
3. ğŸ¤– **ç”ŸæˆAIã‚¢ãƒ—ãƒªï¼ˆChatGPT/Gemini/Copilotç­‰ï¼‰ã‚’ä½¿ã£ãŸã“ã¨ãŒã‚ã‚‹äººã®å‰²åˆ**
4. ğŸ’¼ **ç”ŸæˆAIã‚’å®Ÿå‹™ã«å–ã‚Šå…¥ã‚Œã¦ã„ã‚‹éƒ¨ç½²ãƒ»ãƒãƒ¼ãƒ ã®å‰²åˆï¼ˆï¼å°å…¥åº¦ï¼‰** â† *Q4*
5. ğŸ§‘â€ğŸ’¼ **çµŒå–¶å±¤ã®AI/ITå°å…¥ã¸ã®æ”¯æ´ã®å¼·ã•**
6. âš¡ **â€œã‚„ã£ã¦ã¿ã‚ˆã†â€ã§è©¦è¡ŒãŒé€²ã‚€é›°å›²æ°—ï¼ˆæ„æ€æ±ºå®šã®é€Ÿã•ï¼‰**
7. ğŸ“š **AI/ITã®å‹‰å¼·ä¼šãƒ»å…±æœ‰ä¼šã®å®Ÿæ–½é »åº¦**
8. ğŸ’¬ **ç¤¾å“¡åŒå£«ã§AIã®ä½¿ã„æ–¹ã‚’å…±æœ‰ãƒ»ç›¸è«‡ã§ãã‚‹é›°å›²æ°—**
9. ğŸ“Š **æ„æ€æ±ºå®šã«ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã†é »åº¦**
10. ğŸš€ **æ¥­å‹™æ”¹å–„ãƒ»å•†å“é–‹ç™ºã§AIã‚’ä½¿ãŠã†ã¨ã™ã‚‹å‹•ãã®æ´»ç™ºã•**

**ã‚¹ã‚³ã‚¢è¨ˆç®—**

* `AI_READY = round(å¹³å‡(10å•))`ï¼ˆ0ã€œ100ï¼‰
* åŒºåˆ†ï¼šğŸŒ±0â€“39 / ğŸ”§40â€“69 / ğŸš€70â€“100
* `AI_ADOPTION = Q4`ï¼ˆ0ã€œ100ï¼‰

---

## 5. åŠ¹æœã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆMVPãƒ¢ãƒ‡ãƒ«ï¼‰

**æƒ³å®šä½œæ¥­æ™‚é–“å‰Šæ¸›ç‡ï¼ˆ%ï¼‰**

```
R = AI_READY / 100
A = AI_ADOPTION / 100
æƒ³å®šå‰Šæ¸›ç‡ = ((1 - A) * R * 0.9 + A * R * 0.3) * 100
```

* ç›´æ„Ÿï¼šæœªå°å…¥åˆ†ã¯å¤§ããï¼ˆ0.9ï¼‰ã€å°å…¥æ¸ˆã¿åˆ†ã‚‚æœ€é©åŒ–ä½™åœ°ï¼ˆ0.3ï¼‰ã‚’æ®‹ã™ã€‚
* ä¾‹ï¼šReady=0.68, Adoption=0.45 â†’ 0.55*0.68*0.9 + 0.45*0.68*0.3 â‰’ **36%**
* ï¼ˆä»»æ„ï¼‰ã€Œæœˆé–“å‰Šæ¸›æ™‚é–“ã€= å‰Šæ¸›ç‡ Ã— æƒ³å®šå¯¾è±¡æ™‚é–“ï¼ˆä¾‹ï¼šæœˆ200hï¼‰

**9ãƒãƒˆãƒªã‚¯ã‚¹ã®çŸ­æ–‡ææ¡ˆ**ï¼ˆReadyÃ—Adoptionï¼š3Ã—3ï¼‰

* æº–å‚™Ã—æœªå°å…¥ï¼š**åŸºç›¤æ•´å‚™â†’å°è¦æ¨¡è©¦è¡Œ**
* æº–å‚™Ã—ä¸€éƒ¨ï¼š**æˆåŠŸäº‹ä¾‹ã®å…±æœ‰â†’æ³•äººãƒ—ãƒ©ãƒ³ã¸**
* æº–å‚™Ã—å®šç€ï¼š**ã‚¬ãƒãƒŠãƒ³ã‚¹æ•´å‚™ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£/ãƒ«ãƒ¼ãƒ«ï¼‰**
* è©¦è¡ŒÃ—æœªå°å…¥ï¼š**æ—¥å ±/å ±å‘Šã‹ã‚‰å°å…¥**
* è©¦è¡ŒÃ—ä¸€éƒ¨ï¼š**ãƒ†ãƒ³ãƒ—ãƒ¬æ•´å‚™ã¨åŠ¹æœæ¸¬å®š**
* è©¦è¡ŒÃ—å®šç€ï¼š**æ¨™æº–åŒ–ã¨å®šæœŸç ”ä¿®**
* æ‹¡å¼µÃ—æœªå°å…¥ï¼š**é«˜åŠ¹æœéƒ¨é–€ã«ä¸€æ°—ã«å°å…¥**
* æ‹¡å¼µÃ—ä¸€éƒ¨ï¼š**å…¨ç¤¾æœ€é©åŒ–ã¨ROIç®¡ç†**
* æ‹¡å¼µÃ—å®šç€ï¼š**è‡ªå‹•åŒ–/é«˜åº¦å¿œç”¨ã¸**

---

## 6. ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ï¼ˆGoogle Sheetsï¼‰

**ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ**ï¼š`AI_Ready_Responses`
**ã‚·ãƒ¼ãƒˆ**ï¼š`responses`ï¼ˆ1è¡Œ=1å›ç­”ï¼‰

| åˆ—å            | å‹       | èª¬æ˜                       |
| ------------- | ------- | ------------------------ |
| timestamp     | ISO8601 | é€ä¿¡æ™‚åˆ»ï¼ˆã‚¢ãƒ—ãƒªå´ã§UTC or JSTçµ±ä¸€ï¼‰  |
| q1..q10       | int     | 0â€“100                    |
| ready_score   | int     | 0â€“100ï¼ˆå¹³å‡ï¼‰                |
| adoption_q4   | int     | 0â€“100                    |
| reduction_pct | float   | æƒ³å®šå‰Šæ¸›ç‡ï¼ˆ%ï¼‰å°æ•°1æ¡             |
| client_id     | str     | UUIDï¼ˆCookieç„¡ã—ã§ã‚»ãƒƒã‚·ãƒ§ãƒ³èµ·ç‚¹ç”Ÿæˆï¼‰ |
| user_agent    | str     | ä»»æ„ï¼ˆç°¡æ˜“UAï¼‰                 |
| referrer      | str     | ä»»æ„ï¼ˆQR/ç›´/ã‚µã‚¤ãƒˆï¼‰             |
| notes         | str     | äºˆå‚™                       |

> å°†æ¥ï¼šåˆ¥ã‚·ãƒ¼ãƒˆã«æ¥­ç¨®ãƒ»å¾“æ¥­å“¡è¦æ¨¡ãªã©ã®ä»»æ„å…¥åŠ›ã‚’è¿½åŠ å¯èƒ½ã€‚

---

## 7. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ / å®Ÿè£…æŒ‡é‡

* **ãƒ•ãƒ­ãƒ³ãƒˆ**ï¼šStreamlitï¼ˆ1ãƒ•ã‚¡ã‚¤ãƒ« or å°åˆ†å‰²ï¼‰ã€‚
* **çŠ¶æ…‹ç®¡ç†**ï¼š`st.session_state`ï¼ˆ`step`, `answers{q1..q10}`ï¼‰ã€‚
* **ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰**ï¼š1å•/ç”»é¢ã€`æ¬¡ã¸/æˆ»ã‚‹`ã€`st.progress`ã€‚
* **è¨ˆç®—**ï¼šãƒ­ãƒ¼ã‚«ãƒ«ã§å³æ™‚è¨ˆç®—â†’çµæœè¡¨ç¤ºã€‚
* **é€ä¿¡**ï¼šæŠ¼ä¸‹æ™‚ã«Google Sheets `append_row`ã€‚
* **ãƒªãƒˆãƒ©ã‚¤**ï¼šSheetsæ›¸ãè¾¼ã¿å¤±æ•—æ™‚ã¯3å›æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•ã€‚
* **ãƒ­ã‚°**ï¼šå¤±æ•—æ™‚ã®ã¿ç°¡æ˜“ãƒ­ã‚°ï¼ˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼‰ã€‚PIIã¯è¨˜éŒ²ã—ãªã„ã€‚
* **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**ï¼šãƒ©ãƒ™ãƒ«æ˜ç¢ºåŒ–ã€ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œã€æœ€å°ãƒ•ã‚©ãƒ³ãƒˆ14pxç›¸å½“ã€‚

---

## 8. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ / Secrets / æ¨©é™

* **Google Service Account**ï¼ˆSheets APIï¼‰ã‚’ä½¿ç”¨ã€‚

  * JSONéµã‚’**Streamlit Cloud ã® Secrets**ã«ä¿å­˜ï¼ˆä¾‹ï¼š`GOOGLE_SHEETS_CREDS`ï¼‰ã€‚
  * å¯¾è±¡ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«**ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãƒ¡ãƒ¼ãƒ«**ã‚’ç·¨é›†è€…å…±æœ‰ã€‚
* **PIIæœ€å°åŒ–**ï¼šä¼šç¤¾åã‚„ãƒ¡ãƒ¼ãƒ«ã¯**MVPã§ã¯åé›†ã—ãªã„**ã€‚åŒ¿åãƒ‡ãƒ¼ã‚¿ã®ã¿ã€‚
* **ä¾å­˜**ï¼š`gspread`, `oauth2client`ï¼ˆã¾ãŸã¯`google-auth`ç³»ï¼‰ã€‚

---

## 9. ç’°å¢ƒ / ãƒ‡ãƒ—ãƒ­ã‚¤

**ãƒªãƒã‚¸ãƒˆãƒªæ§‹æˆ**

```
.
â”œâ”€ app.py
â”œâ”€ requirements.txt
â””â”€ README.md
```

**requirements.txtï¼ˆMVPï¼‰**

```
streamlit==1.38.*
gspread==6.*
oauth2client==4.1.3
pandas>=2.2
python-dateutil>=2.9
```

**Secretsï¼ˆStreamlit Cloud å´ï¼‰**

* `GOOGLE_SHEETS_CREDS`ï¼šã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆJSONæ–‡å­—åˆ—
* `SHEET_NAME`ï¼š`AI_Ready_Responses`
* `WORKSHEET_NAME`ï¼š`responses`
* `TZ`ï¼š`Asia/Tokyo`ï¼ˆä»»æ„ï¼‰

**ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †**

1. GitHubã«Push
2. Streamlit Cloudã§ãƒªãƒã‚¸ãƒˆãƒªã‚’é¸æŠâ†’ãƒ‡ãƒ—ãƒ­ã‚¤
3. SecretsæŠ•å…¥ï¼†å†ãƒ‡ãƒ—ãƒ­ã‚¤
4. ã‚¢ãƒ—ãƒªURLã‚’QRåŒ–â†’ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ¬ã‚¿ãƒ¼2å·3ãƒšãƒ¼ã‚¸ã«å·®ã—è¾¼ã¿

---

## 10. TDD / å—ã‘å…¥ã‚ŒåŸºæº–

**ãƒ¦ãƒ‹ãƒƒãƒˆè¦³ç‚¹ï¼ˆé–¢æ•°åŒ–ã—ã¦ãƒ†ã‚¹ãƒˆï¼‰**

* `calc_ready(answers: dict) -> int`

  * 10å€‹ã®0â€“100ã‚’å—ã‘ã€å¹³å‡ã‚’å››æ¨äº”å…¥ã—ã¦0â€“100ã‚’è¿”ã™
* `calc_reduction(ready:int, adoption:int) -> float`

  * Â§5ã®å¼é€šã‚Šã€0â€“100ã‚’è¿”ã™
* `phase_label(ready:int) -> str`

  * ğŸŒ±/ğŸ”§/ğŸš€ ã‚’è¿”ã™
* `matrix_hint(ready:int, adoption:int) -> str`

  * 9ãƒ‘ã‚¿ãƒ¼ãƒ³ã®1è¡Œææ¡ˆ

**E2Eè¦³ç‚¹**

* 10å•å›ç­”â†’çµæœâ†’é€ä¿¡â†’**Sheetsã«1è¡Œè¿½åŠ **ã•ã‚Œã‚‹
* æ›¸ãè¾¼ã¿å¤±æ•—æ™‚ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸**å†è©¦è¡Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸**ãŒå‡ºã‚‹
* ãƒ–ãƒ©ã‚¦ã‚¶ãƒªãƒ­ãƒ¼ãƒ‰ã§ã‚‚**å›ç­”ãŒæ¶ˆãˆãªã„**ï¼ˆ`session_state`ä¿æŒ/ç›´å‰ä¿å­˜ï¼‰

**å—ã‘å…¥ã‚ŒåŸºæº–**

* å…¨è¨­å•ãŒæœªå›ç­”ã®ã¾ã¾é€ä¿¡ä¸èƒ½
* 10å•å›ç­”å¾Œã€æŒ‡æ•°ã¨å‰Šæ¸›ç‡ãŒ**å³è¡¨ç¤º**
* é€ä¿¡å¾Œã®å®Œäº†ç”»é¢ã«**ãƒ‡ãƒ¼ã‚¿æ´»ç”¨ãƒãƒªã‚·ãƒ¼**çŸ­æ–‡ãŒå‡ºã‚‹
* Sheetsã«**å¿…é ˆåˆ—**ï¼ˆtimestamp, q1..q10, ready_score, adoption_q4, reduction_pct, client_idï¼‰ãŒæ¬ æãªãå…¥ã‚‹

---

## 11. ã‚³ãƒ”ãƒ¼ï¼ˆãã®ã¾ã¾ä½¿ãˆã‚‹æ–‡è¨€ï¼‰

* **å†’é ­**ï¼šã€Œã‚ãªãŸã®ä¼šç¤¾ã®AI ReadyæŒ‡æ•°ã‚’3åˆ†ã§ãƒã‚§ãƒƒã‚¯ã€‚ä¼šç¤¾å…¨ä½“ã®é›°å›²æ°—ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ã¦ãŠç­”ãˆãã ã•ã„ã€‚ã€
* **æ³¨è¨˜**ï¼šã€Œå€‹äººæƒ…å ±ã¯åé›†ã—ã¾ã›ã‚“ã€‚å›ç­”ã¯åŒ¿åã§çµ±è¨ˆçš„ã«åˆ©ç”¨ã—ã¾ã™ã€‚ã€
* **çµæœè¦‹å‡ºã—**ï¼šã€ŒAI ReadyæŒ‡æ•°ï¼š{score}ç‚¹ï¼ˆ{phase}ï¼‰ï¼ç¾åœ¨ã®AIå°å…¥åº¦ï¼š{q4}%ã€
* **åŠ¹æœ**ï¼šã€Œæƒ³å®šä½œæ¥­æ™‚é–“å‰Šæ¸›ç‡ï¼š{pct}%ã€
* **é€ä¿¡ãƒœã‚¿ãƒ³**ï¼šã€Œã“ã®çµæœã‚’é€ä¿¡ãƒ»é›†è¨ˆã«å”åŠ›ã™ã‚‹ã€
* **å®Œäº†**ï¼šã€Œã”å”åŠ›ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚çµæœã¯çµ±è¨ˆçš„ã«é›†è¨ˆã—ã€é•·ç›®é€šä¿¡ãªã©ã§ã”å ±å‘Šã—ã¾ã™ã€‚ã€

---

## 12. é–‹ç™ºãƒ¡ãƒ¢ï¼ˆå®Ÿè£…ãƒ’ãƒ³ãƒˆï¼‰

* **ä¸€å•ãšã¤UI**ï¼š

  * `st.session_state.step` ã‚’0..9ã§ç®¡ç†
  * `st.slider(key=f"q{n}")`ã§æ°¸ç¶š
  * `st.progress((step+1)/10)`
  * æ¬¡ã¸â†’`step+=1`ã€æˆ»ã‚‹â†’`step-=1`
* **Sheetsæ¥ç¶š**ï¼š

  * `gspread.authorize(ServiceAccountCredentials.from_json_keyfile_dict(...))`
  * `sheet.append_row([...], value_input_option="USER_ENTERED")`
* **è€éšœå®³**ï¼š

  * æ›¸ãè¾¼ã¿é–¢æ•°ã«`for i in range(3)`ï¼‹`time.sleep(1*i)`
  * å¤±æ•—è©³ç´°ã¯`st.error("é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã—ã°ã‚‰ãã—ã¦å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚")`

---

## 13. å°†æ¥æ‹¡å¼µï¼ˆãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—ï¼‰

* **v1.1**ï¼šä¼šç¤¾åãƒ»æ¥­ç¨®ãƒ»è¦æ¨¡ï¼ˆä»»æ„ï¼‰ãƒ•ã‚©ãƒ¼ãƒ ã€Supabaseä½µç”¨
* **v1.2**ï¼šçµæœPDF/ãƒ¡ãƒ¼ãƒ«é€ä»˜ã€ã‚¤ãƒ™ãƒ³ãƒˆç”³è¾¼ãƒ•ã‚©ãƒ¼ãƒ é€£æº
* **v1.3**ï¼šæ¥­ç¨®åˆ¥ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã®è‡ªå‹•æç¤ºã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰å…¬é–‹ï¼ˆLooker Studioï¼‰
* **v2.0**ï¼šNext.js + Cloud Run + Supabase ã¸ç§»è¡Œã€å¸¸æ™‚èµ·å‹•/æ¨©é™ç®¡ç†

---

## 14. ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ / ãƒ‡ãƒ¼ã‚¿æ–¹é‡ï¼ˆçŸ­æ–‡ï¼‰

* å›ç­”ãƒ‡ãƒ¼ã‚¿ã¯åŒ¿åã§åé›†ã—ã€**çµ±è¨ˆçš„ã«é›†è¨ˆãƒ»å…¬è¡¨**ã—ã¾ã™ã€‚
* å€‹åˆ¥å›ç­”ã®å†…å®¹ã‚’å¤–éƒ¨ã«å…¬é–‹ãƒ»ç‰¹å®šã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
* åˆ©ç”¨è¦ç´„ãƒ»ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã¯é•·ç›®ã‚µã‚¤ãƒˆã®è¦ç´„ã«æº–ã˜ã¾ã™ã€‚

---

### ä»˜éŒ²ï¼šæœ€å°éª¨æ ¼ã‚³ãƒ¼ãƒ‰ï¼ˆæŠœç²‹ãƒ»æ“¬ä¼¼ï¼‰

```python
# app.pyï¼ˆéª¨æ ¼ã®ã¿ï¼‰
import streamlit as st, json, gspread
from oauth2client.service_account import ServiceAccountCredentials
from datetime import datetime, timezone, timedelta
import uuid

st.set_page_config(page_title="AI Ready ãƒã‚§ãƒƒã‚¯", page_icon="ğŸ¤–", layout="centered")

# --- state ---
if "step" not in st.session_state: st.session_state.step = 0
for i in range(1,11):
    st.session_state.setdefault(f"q{i}", None)
st.session_state.setdefault("client_id", str(uuid.uuid4()))

# --- UI: question wizard ---
QUESTIONS = [
 "æ¥­å‹™æ–‡æ›¸ã®é›»å­åŒ–å‰²åˆã¯ï¼Ÿ",
 "ITç’°å¢ƒï¼ˆå…±æœ‰ãƒ»æ¤œç´¢ãƒ»ã‚¢ã‚¯ã‚»ã‚¹ï¼‰ã®æ•´å‚™åº¦ã¯ï¼Ÿ",
 "ç”ŸæˆAIã‚¢ãƒ—ãƒªã‚’ä½¿ã£ãŸã“ã¨ãŒã‚ã‚‹äººã®å‰²åˆã¯ï¼Ÿ",
 "ç”ŸæˆAIã‚’å®Ÿå‹™ã«å–ã‚Šå…¥ã‚Œã¦ã„ã‚‹éƒ¨ç½²ã®å‰²åˆã¯ï¼Ÿ",  # Q4=å°å…¥åº¦
 "çµŒå–¶å±¤ã®æ”¯æ´ã®å¼·ã•ã¯ï¼Ÿ",
 "â€œã‚„ã£ã¦ã¿ã‚ˆã†â€ã§è©¦è¡ŒãŒé€²ã‚€é›°å›²æ°—ã¯ï¼Ÿ",
 "AI/ITã®å‹‰å¼·ä¼šãƒ»å…±æœ‰ä¼šã®é »åº¦ã¯ï¼Ÿ",
 "AIã®ä½¿ã„æ–¹ã‚’å…±æœ‰ãƒ»ç›¸è«‡ã§ãã‚‹é›°å›²æ°—ã¯ï¼Ÿ",
 "æ„æ€æ±ºå®šã«ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã†é »åº¦ã¯ï¼Ÿ",
 "æ”¹å–„ãƒ»é–‹ç™ºã§AIã‚’ä½¿ãŠã†ã¨ã™ã‚‹å‹•ãã¯ï¼Ÿ"
]

def q_slider(i):
    return st.slider(QUESTIONS[i], 0, 100, 50, key=f"q{i+1}")

step = st.session_state.step
st.progress((step+1)/10)
q_slider(step)

cols = st.columns(2)
if cols[0].button("æˆ»ã‚‹", disabled=step==0): st.session_state.step -= 1
if cols[1].button("æ¬¡ã¸", disabled=step==9): st.session_state.step += 1

# --- results ---
if all(st.session_state[f"q{i}"] is not None for i in range(1,11)):
    vals = [st.session_state[f"q{i}"] for i in range(1,11)]
    ready = round(sum(vals)/len(vals))
    q4 = st.session_state["q4"] if "q4" in st.session_state else st.session_state["q4"]  # alias
    q4 = st.session_state["q4"] if "q4" in st.session_state else vals[3]
    R, A = ready/100, q4/100
    reduction = ((1-A)*R*0.9 + A*R*0.3)*100
    st.subheader(f"AI ReadyæŒ‡æ•°ï¼š{ready} ç‚¹")
    st.write(f"ç¾åœ¨ã®AIå°å…¥åº¦ï¼š{q4} %")
    st.metric("æƒ³å®šä½œæ¥­æ™‚é–“å‰Šæ¸›ç‡", f"{reduction:.0f}%")

    # --- send ---
    if st.button("ã“ã®çµæœã‚’é€ä¿¡ãƒ»é›†è¨ˆã«å”åŠ›ã™ã‚‹"):
        # Sheets write
        creds = json.loads(st.secrets["GOOGLE_SHEETS_CREDS"])
        scope = ["https://spreadsheets.google.com/feeds","https://www.googleapis.com/auth/drive"]
        gc = gspread.authorize(ServiceAccountCredentials.from_json_keyfile_dict(creds, scope))
        sh = gc.open(st.secrets["SHEET_NAME"]).worksheet(st.secrets["WORKSHEET_NAME"])
        ts = datetime.now(timezone(timedelta(hours=9))).isoformat()
        row = [ts, *vals, ready, q4, round(reduction,1), st.session_state["client_id"], st.experimental_user["user_agent"] if "experimental_user" in dir(st) else "", st.experimental_get_query_params().get("ref", [""])[0], ""]
        sh.append_row(row, value_input_option="USER_ENTERED")
        st.success("é€ä¿¡ã—ã¾ã—ãŸã€‚ã”å”åŠ›ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚")
```

## å•é¡Œ

/data/quiz.md ã‚’å‚ç…§

---

ã“ã®ä»•æ§˜ã®ã¾ã¾å®Ÿè£…ã™ã‚Œã°ã€**ä»Šæ—¥ã‹ã‚‰å‹•ãâ€œä¸€å•ãšã¤UIã®è¨ºæ–­ï¼‹åŠ¹æœæ¨å®šï¼‹Sheetsä¿å­˜â€**ãŒå®Œæˆã—ã¾ã™ã€‚æ¬¡ã¯ãƒªãƒã‚¸ãƒˆãƒªã‚’åˆ‡ã£ã¦ã€Secretsï¼ˆã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼‰ã‚’ç™ºè¡Œã—ã¦æŠ•å…¥ã™ã‚Œã°å³ãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½ã§ã™ã€‚

